(()=>{"use strict";function e(e,t){return null!==t.getItem(e)}function t(e,t){let n=t.getItem(e,t);if(void 0!==n)return JSON.parse(n)}function n(e,t,n){n.setItem(e,JSON.stringify(t))}var i=function(i){let r=()=>{let r,s;try{s=localStorage}catch(e){console.error(e),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let t=new Map;s={getItem:t.get.bind(t),setItem:t.set.bind(t)}}return i.interceptor(((l,o,a,c,g)=>{let u=r||`_x_${c}`,p=e(u,s)?t(u,s):l;return a(p),i.effect((()=>{let e=o();n(u,e,s),a(e)})),p}),(e=>{e.as=t=>(r=t,e),e.using=t=>(s=t,e)}))};Object.defineProperty(i,"$persist",{get:()=>r()}),i.magic("persist",r),i.persist=(r,{get:s,set:l},o=localStorage)=>{let a=e(r,o)?t(r,o):s();l(a),i.effect((()=>{let e=s();n(r,e,o),l(e)}))}};document.addEventListener("alpine:init",(()=>{window.Alpine.plugin(i)}))})();